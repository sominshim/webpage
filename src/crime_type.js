var date = [{date: 200101,value: 0.41901408450704225}, {date: 200102,value: 0.41710760653537415}, {date: 200103,value: 0.40276919071946893}, {date: 200104,value: 0.38547817220364705}, {date: 200105,value: 0.37431265453740264}, {date: 200106,value: 0.3682058645707376}, {date: 200107,value: 0.36269773609927064}, {date: 200108,value: 0.36134261653447725}, {date: 200109,value: 0.36018179888257373}, {date: 200110,value: 0.36192309355941}, {date: 200111,value: 0.36598413357864956}, {date: 200112,value: 0.37058439366588886}, {date: 200201,value: 0.37479313321708985}, {date: 200202,value: 0.3783722985458343}, {date: 200203,value: 0.3790789719035904}, {date: 200204,value: 0.3782584940519106}, {date: 200205,value: 0.37615913219767777}, {date: 200206,value: 0.37301324666857644}, {date: 200207,value: 0.3698786065784268}, {date: 200208,value: 0.36888829680361307}, {date: 200209,value: 0.36710240102753205}, {date: 200210,value: 0.3661568103641887}, {date: 200211,value: 0.36767702399709123}, {date: 200212,value: 0.3697860065496291}, {date: 200301,value: 0.37200840708899263}, {date: 200302,value: 0.3732744698358719}, {date: 200303,value: 0.3728205052265095}, {date: 200304,value: 0.3719885725881629}, {date: 200305,value: 0.37151939358743163}, {date: 200306,value: 0.3704397832417886}, {date: 200307,value: 0.36886299678811046}, {date: 200308,value: 0.3687146472470436}, {date: 200309,value: 0.369545978813762}, {date: 200310,value: 0.3714868283434059}, {date: 200311,value: 0.3726934445397929}, {date: 200312,value: 0.3733185270253891}, {date: 200401,value: 0.3748937372634382}, {date: 200402,value: 0.3764010174299345}, {date: 200403,value: 0.3765969649953042}, {date: 200404,value: 0.37689272450811195}, {date: 200405,value: 0.3765532215307533}, {date: 200406,value: 0.37565095331795356}, {date: 200407,value: 0.3751655376020858}, {date: 200408,value: 0.3750420626940677}, {date: 200409,value: 0.37560831982605647}, {date: 200410,value: 0.3759177241691991}, {date: 200411,value: 0.3768950484127494}, {date: 200412,value: 0.3779659349146702}, {date: 200501,value: 0.37928568296906856}, {date: 200502,value: 0.38044369113454407}, {date: 200503,value: 0.38119576372541825}, {date: 200504,value: 0.3814004364978852}, {date: 200505,value: 0.38138230360114195}, {date: 200506,value: 0.38133196001231984}, {date: 200507,value: 0.3812731857140402}, {date: 200508,value: 0.38163995890825764}, {date: 200509,value: 0.38216370460707816}, {date: 200510,value: 0.3825093918313955}, {date: 200511,value: 0.3832317434355092}, {date: 200512,value: 0.38434532104858493}, {date: 200601,value: 0.3849188264498569}, {date: 200602,value: 0.385368260525112}, {date: 200603,value: 0.3853947350339322}, {date: 200604,value: 0.3853557269577971}, {date: 200605,value: 0.38554668260710334}, {date: 200606,value: 0.3855161352958777}, {date: 200607,value: 0.38531607396212975}, {date: 200608,value: 0.38543029244917987}, {date: 200609,value: 0.3856917399388652}, {date: 200610,value: 0.38597565538805934}, {date: 200611,value: 0.3864366700829877}, {date: 200612,value: 0.387042212743695}, {date: 200701,value: 0.38781463022709867}, {date: 200702,value: 0.38848889085206945}, {date: 200703,value: 0.38862916529705055}, {date: 200704,value: 0.388817059401974}, {date: 200705,value: 0.3886142452155223}, {date: 200706,value: 0.3885137790099581}, {date: 200707,value: 0.38843897554965773}, {date: 200708,value: 0.38851735741608906}, {date: 200709,value: 0.388666468173698}, {date: 200710,value: 0.38852917237653917}, {date: 200711,value: 0.38908329832113503}, {date: 200712,value: 0.3894449269467134}, {date: 200801,value: 0.3894747547702596}, {date: 200802,value: 0.38954270134576324}, {date: 200803,value: 0.38932226127609476}, {date: 200804,value: 0.38858941128230645}, {date: 200805,value: 0.38797181969184946}, {date: 200806,value: 0.38714262491409007}, {date: 200807,value: 0.3866624665621721}, {date: 200808,value: 0.38647213735591274}, {date: 200809,value: 0.3863712981917138}, {date: 200810,value: 0.38641995558571945}, {date: 200811,value: 0.38665533622139703}, {date: 200812,value: 0.38695379448776346}, {date: 200901,value: 0.38718538184866935}, {date: 200902,value: 0.3872812688909266}, {date: 200903,value: 0.38723993159896364}, {date: 200904,value: 0.3871573951160992}, {date: 200905,value: 0.3870010021192813}, {date: 200906,value: 0.38694309656304743}, {date: 200907,value: 0.38695879947657397}, {date: 200908,value: 0.38717101818464555}, {date: 200909,value: 0.3874282811312809}, {date: 200910,value: 0.38773443767002047}, {date: 200911,value: 0.38813567723034503}, {date: 200912,value: 0.3886338718758116}, {date: 201001,value: 0.3892246077500266}, {date: 201002,value: 0.389783225629832}, {date: 201003,value: 0.39002588128774357}, {date: 201004,value: 0.39003772024133154}, {date: 201005,value: 0.38996512727054167}, {date: 201006,value: 0.3897646198574429}, {date: 201007,value: 0.38963349391333973}, {date: 201008,value: 0.3897563108054243}, {date: 201009,value: 0.390043026022438}, {date: 201010,value: 0.3903347873372733}, {date: 201011,value: 0.39074896590498376}, {date: 201012,value: 0.3911513664670453}, {date: 201101,value: 0.3916448422485783}, {date: 201102,value: 0.39185898885198006}, {date: 201103,value: 0.39210827551583993}, {date: 201104,value: 0.3921648071296305}, {date: 201105,value: 0.39221003853580233}, {date: 201106,value: 0.3921899364828}, {date: 201107,value: 0.39217017087481193}, {date: 201108,value: 0.3924376324626979}, {date: 201109,value: 0.3927951049987722}, {date: 201110,value: 0.39298391467739774}, {date: 201111,value: 0.3933068506588864}, {date: 201112,value: 0.3936074149419799}, {date: 201201,value: 0.39388322281634147}, {date: 201202,value: 0.39418328164148503}, {date: 201203,value: 0.39416009926532425}, {date: 201204,value: 0.3940544652454041}, {date: 201205,value: 0.3939447028496428}, {date: 201206,value: 0.39379218685254697}, {date: 201207,value: 0.3937614834275727}, {date: 201208,value: 0.39362048968160795}, {date: 201209,value: 0.3935459641969131}, {date: 201210,value: 0.39351414747955404}, {date: 201211,value: 0.39353216661529544}, {date: 201212,value: 0.39354936307827154}, {date: 201301,value: 0.3937193240912558}, {date: 201302,value: 0.3938767995206426}, {date: 201303,value: 0.3938917437923212}, {date: 201304,value: 0.39374648706731036}, {date: 201305,value: 0.3935810753723126}, {date: 201306,value: 0.3932449637540871}, {date: 201307,value: 0.39302227967292314}, {date: 201308,value: 0.3928870278982437}, {date: 201309,value: 0.3927277536243863}, {date: 201310,value: 0.392631226745986}, {date: 201311,value: 0.3926389792347536}, {date: 201312,value: 0.3926561486698966}, {date: 201401,value: 0.3926558951655654}, {date: 201402,value: 0.39267634143639035}, {date: 201403,value: 0.39254227466204794}, {date: 201404,value: 0.3923762177110983}, {date: 201405,value: 0.39214020887043805}, {date: 201406,value: 0.39180343155242214}, {date: 201407,value: 0.3915674249424754}, {date: 201408,value: 0.3913352747259674}, {date: 201409,value: 0.39113554702000136}, {date: 201410,value: 0.39100203642825854}, {date: 201411,value: 0.3908886800610463}, {date: 201412,value: 0.390750429156868}, {date: 201501,value: 0.39072017380789}, {date: 201502,value: 0.39059881405390484}, {date: 201503,value: 0.3903615478283071}, {date: 201504,value: 0.3899775023617783}, {date: 201505,value: 0.38948130725238744}, {date: 201506,value: 0.3890403787002901}, {date: 201507,value: 0.3886017036062884}, {date: 201508,value: 0.38820067304966926}, {date: 201509,value: 0.3879032692089196}, {date: 201510,value: 0.3876831045782286}, {date: 201511,value: 0.38745970929878976}, {date: 201512,value: 0.38709670746871294}, {date: 201601,value: 0.3867030782549873}, {date: 201602,value: 0.3862490745184269}, {date: 201603,value: 0.3856810679753454}, {date: 201604,value: 0.38516159743390094}, {date: 201605,value: 0.38455804861317516}, {date: 201606,value: 0.383836199252384}, {date: 201607,value: 0.38318642157041416}, {date: 201608,value: 0.3824278504708667}, {date: 201609,value: 0.3817236785799079}, {date: 201610,value: 0.3810049486860068}, {date: 201611,value: 0.3804773957606796}, {date: 201612,value: 0.3799983989955804}, {date: 201701,value: 0.3795327524307483}, {date: 201702,value: 0.3790641469536429}, {date: 201703,value: 0.37850328140529593}, {date: 201704,value: 0.37788872979310634}, {date: 201705,value: 0.3772078117440652}, {date: 201706,value: 0.37644331538524206}, {date: 201707,value: 0.37570567780841607}, {date: 201708,value: 0.3750003737819804}, {date: 201709,value: 0.3743669849451653}, {date: 201710,value: 0.3737554538412864}, {date: 201711,value: 0.3732575266789788}, {date: 201712,value: 0.37269114584350727}, {date: 201801,value: 0.3722322898012166}, {date: 201802,value: 0.3717932528207625}, {date: 201803,value: 0.3712291747946581}, {date: 201804,value: 0.37062451761011683}, {date: 201805,value: 0.369851501301196}, {date: 201806,value: 0.36911488054507524}, {date: 201807,value: 0.3683740984638765}, {date: 201808,value: 0.36772034597176423}, {date: 201809,value: 0.36711253323858606}, {date: 201810,value: 0.3664701782540821}, {date: 201811,value: 0.3659924718514545}, {date: 201812,value: 0.3654056599004342}, {date: 201901,value: 0.3650090945854704}, {date: 201902,value: 0.36457513232198346}, {date: 201903,value: 0.36406183545171206}, {date: 201904,value: 0.3634926954146656}, {date: 201905,value: 0.3627934804868353}, {date: 201906,value: 0.36210678292195136}, {date: 201907,value: 0.3614404537219629}, {date: 201908,value: 0.3608288214225417}, {date: 201909,value: 0.36024296271853073}, {date: 201910,value: 0.3596799696803019}, {date: 201911,value: 0.35921440568597474}, {date: 201912,value: 0.3587102486931186}, {date: 202001,value: 0.35832941770552657}, {date: 202002,value: 0.35795520271248915}, {date: 202003,value: 0.35743608981741054}, {date: 202004,value: 0.3569306384880084}, {date: 202005,value: 0.3565362487640946}, {date: 202006,value: 0.35590647702485895}, {date: 202007,value: 0.35524570174661085}, {date: 202008,value: 0.35471864178036383}, {date: 202009,value: 0.354156364982567}, {date: 202010,value: 0.35361954464382783}, {date: 202011,value: 0.3535594339985279}
    ]


function get_colors(n) {
var colors = ["#a6cee3","#1f78b4","#b2df8a","#33a02c",
"#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6",
"#6a3d9a"];

 return colors[ n % colors.length];}

var margin = {top: 61, right: 140, bottom: 101, left: 50},
    width = 960 - margin.left - margin.right,
    height = 500 - margin.top - margin.bottom;

var  times = ["12am","1a", "2a", "3a", "4a", "5a", "6a",
           "7a", "8a", "9a", "10a", "11a", "12pm", "1p",
           "2p", "3p", "4p", "5p", "6p", "7p", "8p",
           "9p", "10p", "11p"];


   d3.selectAll("p").data(data, function(data) {
       nv.addGraph(function() {
         var chart = nv.models.stackedAreaChart()
                       .margin({right: 100})
                       .x(function(d) { return d[0] })   //We can modify the data accessor functions...
                       .y(function(d) { return d[1] })   //...in case your data is formatted differently.
                       .useInteractiveGuideline(true)    //Tooltips which show all data points. Very nice!
                       .rightAlignYAxis(true)      //Let's move the y-axis to the right side.
                       .transitionDuration(500)
                       .showControls(true)       //Allow user to choose 'Stacked', 'Stream', 'Expanded' mode.
                       .clipEdge(true);

         //Format x-axis labels with custom function.
         chart.xAxis
             .tickFormat(function(d) {
               return d3.time.format('%x')(new Date(d))
         });

         chart.yAxis
             .tickFormat(d3.format(',.2f'));

         d3.select('#chart svg')
           .datum(data)
           .call(chart);

         nv.utils.windowResize(chart.update);

         return chart;
       });
     })
